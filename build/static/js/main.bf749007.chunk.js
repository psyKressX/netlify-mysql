(this.webpackJsonpberrics4=this.webpackJsonpberrics4||[]).push([[0],{14:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),s=t.n(r),c=(t(14),t(1)),m=t(2),o=t(4),i=t(3),u=t(5),d=(t(15),t(16),t(17),function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("header",null,l.a.createElement("nav",{className:"navbar navbar-dark bg-dark justify-content-between"},l.a.createElement("div",null,l.a.createElement("i",{className:"fa fa-globe p-2"}),l.a.createElement("p",{className:"navbar-brand"},"Liams serverless Netlify MySQL")),l.a.createElement("div",null,l.a.createElement("ul",{style:{display:"inline-block"},className:"nav navbar-nav navbar-right"},l.a.createElement("li",{style:{display:"inline-block"},className:"nav-item mr-3"},"Profiles"),l.a.createElement("li",{style:{display:"inline-block"},className:"nav-item"},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-user-circle"})))))))}}]),a}(n.Component)),f=t(8),h=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(l)))).state={firstName:null,lastName:null,userName:null,email:null,gender:null,password:null,confirm:null,sumbitFail:!1,formErrors:{success:null,firstName:null,lastName:null,userName:null,gender:null,email:null,password:null,confirm:null}},t.handleChange=function(e){e.preventDefault();var a=e.target,n=a.name,l=a.value;t.setState(Object(f.a)({},n,l))},t.handleSubmit=function(e){e.preventDefault();var a=t.state,n=a.firstName,l=a.lastName,r=a.userName,s=a.gender,c=a.email,m=a.password,o=a.confirm;fetch("/.netlify/functions/create-profile",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({firstName:n,lastName:l,userName:r,gender:s,email:c,password:m,confirm:o})}).then((function(e){return e.json()})).then((function(e){console.log("this is result",e),t.setState({formErrors:e}),t.props.refresh()}))},t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state.formErrors;return l.a.createElement("form",{onSubmit:this.handleSubmit,className:"p-4"},l.a.createElement("div",{className:"primary-header brand"},l.a.createElement("h3",null,"Registration Form")),null!==e.success&&l.a.createElement("small",{className:"successMessage"},e.success),l.a.createElement("div",{className:"primary-body"},l.a.createElement("div",{className:"pb-2 row"},l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",className:"form-control",maxLength:"15",onChange:this.handleChange}),null!==e.firstName&&l.a.createElement("small",{className:"errorMessage"},e.firstName)),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",className:"form-control",maxLength:"15",noValidate:!0,onChange:this.handleChange}),null!==e.lastName&&l.a.createElement("small",{className:"errorMessage"},e.lastName))),l.a.createElement("div",{className:"form-group pb-2"},l.a.createElement("input",{type:"text",name:"userName",placeholder:"Username",className:"form-control",maxLength:"15",noValidate:!0,onChange:this.handleChange}),null!==e.userName&&l.a.createElement("small",{className:"errorMessage"},e.userName)),l.a.createElement("div",{className:"form-group pb-2"},l.a.createElement("input",{type:"text",name:"email",placeholder:"Email Address",className:"form-control",maxLength:"40",noValidate:!0,onChange:this.handleChange}),null!==e.email&&l.a.createElement("small",{className:"errorMessage"},e.email)),l.a.createElement("div",{className:"form-group pb-2"},l.a.createElement("select",{name:"gender",className:"form-control",onChange:this.handleChange,defaultValue:"DEFAULT"},l.a.createElement("option",{disabled:!0,hidden:!0,value:"DEFAULT"},"Gender"),l.a.createElement("option",{value:"male"},"Male"),l.a.createElement("option",{value:"female"},"Female"),l.a.createElement("option",{value:"other"},"Other"),l.a.createElement("option",{value:"fake"},"fake")),null!==e.gender&&l.a.createElement("small",{className:"errorMessage"},e.gender)),l.a.createElement("div",{className:"form-group pb-2"},l.a.createElement("small",null,"8-15 characters, must include atleast 1 number."),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"form-control",maxLength:"15",noValidate:!0,onChange:this.handleChange}),null!==e.password&&l.a.createElement("small",{className:"errorMessage"},e.password)),l.a.createElement("div",{className:"form-group pb-4"},l.a.createElement("input",{type:"password",name:"confirm",placeholder:"Confirm Password",className:"form-control",maxLength:"15",noValidate:!0,onChange:this.handleChange}),null!==e.confirm&&l.a.createElement("small",{className:"errorMessage"},e.confirm)),l.a.createElement("div",{className:"form-group pb-2 d-flex justify-content-end"},l.a.createElement("button",{className:"btn btn-default btn-custom",action:"onSubmit"},"Register")),l.a.createElement("small",{className:"d-flex justify-content-end"},"Already Have an Account?")))}}]),a}(n.Component),p=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.id)}},{key:"render",value:function(){var e=this.props,a=e.firstName,t=e.lastName,n=e.userName,r=e.gender,s=e.password,c=e.id,m=e.email;return l.a.createElement("tr",null,l.a.createElement("th",{className:"col-md-2"},c),l.a.createElement("td",{className:"col-md-2"},a),l.a.createElement("td",{className:"col-md-2"},t),l.a.createElement("td",{className:"col-md-2"},n),l.a.createElement("td",{className:"col-md-2"},m),l.a.createElement("td",{className:"col-md-2"},r),l.a.createElement("td",{className:"col-md-2"},s))}}]),a}(n.Component),N=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(i.a)(a).call(this))).fetchProfiles=function(){fetch("/.netlify/functions/profiles").then((function(e){return e.json()})).then((function(a){e.setState({profiles:a})})).catch((function(e){return console.log(e)}))},e.state={profiles:[]},e}return Object(u.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchProfiles()}},{key:"componentWillUpdate",value:function(e){e.fetch&&(this.fetchProfiles(),this.props.refreshed())}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h4",null,"MySQL Profiles"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"col-md-2"},"ID"),l.a.createElement("td",{className:"col-md-2"},"firstName"),l.a.createElement("td",{className:"col-md-2"},"lastName"),l.a.createElement("td",{className:"col-md-2"},"userName"),l.a.createElement("td",{className:"col-md-2"},"email"),l.a.createElement("td",{className:"col-md-2"},"gender"),l.a.createElement("td",{className:"col-md-2"},"password"))),l.a.createElement("tbody",null,this.state.profiles.map((function(e){return l.a.createElement(p,{key:e.userID,firstName:e.firstName,lastName:e.lastName,userName:e.userName,email:e.email,gender:e.gender,password:e.password,id:e.userID})})))))}}]),a}(n.Component),E=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(l)))).state={isFetching:!1},t.refresh=function(){t.setState({isFetching:!0})},t.refreshed=function(){t.setState({isFetching:!1})},t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(d,null),l.a.createElement("div",{id:"primary",className:"container d-flex justify-content-center"},l.a.createElement(N,{fetch:this.state.isFetching,refreshed:this.refreshed}),l.a.createElement(h,{refresh:this.refresh})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,a,t){e.exports=t(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.bf749007.chunk.js.map